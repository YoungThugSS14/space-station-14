- type: entity
  name: laser raptor
  id: MobLaserRaptor
  parent: SimpleMobBase
  description: From the Viking age.
  components:
    - type: NpcFactionMember
      factions:
        - SimpleHostile
    - type: HTN
      rootTask:
        task: SimpleRangedHostileCompound
    - type: Sprite
      drawdepth: Mobs
      sprite: Mobs/Aliens/laser_raptor.rsi
      layers:
        - map: [ "enum.DamageStateVisualLayers.Base" ]
          state: laser_raptor
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.30
          density: 80
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: DamageStateVisuals
      states:
        Alive:
          Base: laser_raptor
        Dead:
          Base: laser_raptor_dead
    - type: MobThresholds
      thresholds:
        0: Alive
        100: Dead
    - type: Butcherable
      spawned:
      - id: FoodMeatChicken
        amount: 2
    - type: MovementSpeedModifier
      baseWalkSpeed: 2
      baseSprintSpeed: 5
    - type: Tag
      tags:
        - FootstepSound
    - type: HitscanBatteryAmmoProvider
      proto: RedLightLaser
      fireCost: 50
    - type: BatterySelfRecharger
      autoRecharge: true
      autoRechargeRate: 50
    - type: Battery
      maxCharge: 1000
      startingCharge: 1000
    - type: Gun
      fireRate: 1
      useKey: false
      selectedMode: SemiAuto
      availableModes:
        - SemiAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/laser_cannon.ogg
    - type: CombatMode
    - type: InteractionPopup
      successChance: 0.3
      interactSuccessString: petting-success-reptile
      interactFailureString: petting-failure-generic
      interactSuccessSound:
        path: /Audio/Animals/lizard_happy.ogg

- type: entity
  id: MobTomatoKiller
  parent:
  - BaseSimpleMob
  - MobDamageable
  - MobPolymorphable
  - MobBloodstream
  - MobFlammable
  - MobCombat
  name: tomato killer
  description: Looks like it's not you eating tomatoes today, it's the tomatoes eating you.
  components:
  - type: GhostRole
    prob: 0.05
    makeSentient: true
    allowSpeech: true
    name: ghost-role-information-tomatokiller-name
    description: ghost-role-information-tomatokiller-description
    rules: ghost-role-information-familiar-rules
    raffle:
      settings: short
  - type: GhostTakeoverAvailable
  - type: CanEscapeInventory
    baseResistTime: 3
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
    reactions:
    - reagents: [ Water ]
      methods: [ Touch ]
      effects:
      - !type:HealthChange
        scaleByQuantity: true
        damage:
          groups:
            Brute: -0.25
    - reagents: [ Blood ]
      methods: [ Touch ]
      effects:
      - !type:HealthChange
        scaleByQuantity: true
        damage:
          groups:
            Brute: -0.5
            Burn: -0.5
    - reagents: [ RobustHarvest ]
      methods: [ Touch ]
      effects:
      - !type:HealthChange
        scaleByQuantity: true
        damage:
          groups:
            Brute: -2
            Burn: -2
    - reagents: [ WeedKiller, PlantBGone ]
      methods: [ Touch ]
      effects:
      - !type:HealthChange
        scaleByQuantity: true
        damage:
          types:
            Heat: 2
  - type: ReplacementAccent
    accent: tomatoKiller
  - type: Item
  - type: MultiHandedItem
  - type: NpcFactionMember
    factions:
      - SimpleHostile
  - type: HTN
    rootTask:
      task: KillerTomatoCompound
  - type: NPCImprintingOnSpawnBehaviour
    whitelist:
      components:
      - HumanoidAppearance
  - type: Sprite
    sprite: Mobs/Demons/tomatokiller.rsi
    noRot: true
    layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alive
  - type: Bloodstream
    bloodReagent: JuiceTomato
    bloodMaxVolume: 50
    chemicalMaxVolume: 30
  - type: DamageStateVisuals
    states:
      Alive:
        Base: alive
      Dead:
        Base: dead
  - type: Butcherable
    spawned:
    - id: FoodMeatTomato
      amount: 2
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 40
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawn:
          FoodMeatTomato:
            min: 1
            max: 2
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: gib
  - type: MobThresholds
    thresholds:
      0: Alive
      35: Dead
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.30
        density: 80
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: MeleeWeapon
    hidden: true
    damage:
      groups:
        Brute: 9
    animation: WeaponArcBite
  - type: Climbing
  - type: NameIdentifier
    group: GenericNumber
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepSlime
  - type: Tag
    tags:
      - FootstepSound
      - Fruit
  - type: Extractable
    grindableSolutionName: bloodstream
  - type: PotencyVisuals
  - type: Appearance
  - type: Produce
    seedId: killerTomato
  - type: PassiveDamage # Slight passive damage. 35 hp \ 5 min \ 60 sec = 0.08
    allowedStates:
    - Alive
    - Dead
    damageCap: 50
    damage:
      types:
        Blunt: 0.11
  - type: StaticPrice
    price: 400

  - type: entity
    name: mimic
    id: MobMimic
    parent: [ SimpleMobBase, MobCombat ]
    description: Surprise. # When this gets a proper write this should use the object's actual description >:)
    components:
    - type: Tag
      tags:
      - FootstepSound
    - type: InputMover
    - type: MobMover
    - type: NpcFactionMember
      factions:
      - SimpleHostile
    - type: Sprite
      drawdepth: Mobs
      sprite: Structures/Machines/VendingMachines/cola.rsi
      state: normal
    - type: Icon
      sprite: Structures/Machines/VendingMachines/cola.rsi
      state: normal
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.35,-0.35,0.35,0.35"
          density: 1000
          mask:
          - MobMask
          layer:
          - MachineLayer
    - type: AnimationPlayer
    - type: MeleeWeapon
      angle: 0
      animation: WeaponArcFist
      damage:
        types:
          Blunt: 20
    - type: MovementSpeedModifier
      baseWalkSpeed: 1
      baseSprintSpeed: 1
    - type: Butcherable
      spawned:
      - id: DrinkChangelingStingCan
        amount: 1

# Demons
- type: entity
  name: hellspawn
  parent:
  - BaseSimpleMob
  - MobCombat
  - MobBloodstream
  id: MobHellspawn
  description: An unstoppable force of carnage.
  components:
  - type: GhostRole
    allowMovement: true
    makeSentient: true
    name: ghost-role-information-hellspawn-name
    description: ghost-role-information-hellspawn-description
    rules: ghost-role-information-antagonist-rules
    mindRoles:
    - MindRoleGhostRoleSoloAntagonist
    raffle:
      settings: default
  - type: RotationVisuals
    defaultRotation: 90
    horizontalRotation: 90
  - type: GhostTakeoverAvailable
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - SimpleHostile
  - type: Body
    prototype: Animal
  - type: Damageable
    damageContainer: BiologicalMetaphysical
    damageModifierSet: HellSpawn
  - type: MovementSpeedModifier
    baseWalkSpeed: 2
    baseSprintSpeed: 3
  - type: Sprite
    sprite: Mobs/Demons/hellspawn.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: alive
  - type: DamageStateVisuals
    states:
      Alive:
        Base: alive
      Dead:
        Base: dead
  - type: Firestarter
  - type: NameIdentifier
    group: GenericNumber
  - type: SlowOnDamage
    speedModifierThresholds:
      60: 0.7
      80: 0.5
  - type: MobPrice
    price: 1000 # Living critters are valuable in space.
  - type: Perishable
  - type: Reflect
    reflectProb: 0.7
    reflects:
    - Energy
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.9
        density: 300
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobState
  - type: Tag
    tags:
    - CannotSuicide
    - DoorBumpOpener
    - FootstepSound
  - type: MobThresholds
    thresholds:
      0: Alive
      450: Dead
  - type: Butcherable
    spawned:
    - id: ArtifactFragment
      amount: 4
  - type: MeleeWeapon
    attackRate: 0.6
    hidden: true
    soundHit:
      path: /Audio/Weapons/Xeno/alien_claw_flesh3.ogg
    damage:
      types:
        Blunt: 150
        Structural: 70
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepThud
  - type: PointLight
    radius: 2
    energy: 4.5
    color: "#ff4242"
    castShadows: false

- type: entity
  name: behonker
  parent: [ SimpleSpaceMobBase, FlyingMobBase, MobCombat ]
  id: BaseMobBehonker
  abstract: true
  description: A floating demon aspect of the honkmother.
  components:
  - type: GhostRole
    allowMovement: true
    makeSentient: true
    name: ghost-role-information-behonker-name
    description: ghost-role-information-behonker-description
    rules: ghost-role-information-antagonist-rules
    mindRoles:
    - MindRoleGhostRoleSoloAntagonist
    raffle:
      settings: default
  - type: GhostTakeoverAvailable
  - type: HTN
    rootTask:
      task: SimpleRangedHostileCompound
  - type: HitscanBatteryAmmoProvider
    proto: RedLaser
    fireCost: 62.5
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 40
  - type: Gun
    fireRate: 0.75
    useKey: false
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    soundGunshot: /Audio/Weapons/Guns/Gunshots/laser_clown.ogg
  - type: SpamEmitSound
    sound:
      collection: BikeHorn
  - type: NpcFactionMember
    factions:
    - SimpleHostile
  - type: Speech
    speechVerb: Cluwne
  - type: CombatMode
  - type: MobMover
  - type: InputMover
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 5
    baseWeightlessModifier: 1.5
  - type: Sprite
    sprite: Mobs/Demons/behonker.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: alive
  - type: DamageStateVisuals
    states:
      Alive:
        Base: alive
      Dead:
        Base: dead
  - type: Physics
    bodyType: KinematicController
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 100
        mask:
        - FlyingMobMask
        layer:
        - FlyingMobLayer
  - type: MobState
  - type: InnateTool
    tools:
    - id: WeaponBehonkerLaser
    - id: BikeHorn
  - type: UserInterface
    interfaces:
      enum.StrippingUiKey.Key:
        type: StrippableBoundUserInterface
  - type: MobThresholds
    thresholds:
      0: Alive
      500: Dead
  - type: Metabolizer
    solutionOnBody: false
    updateInterval: 0.25
    metabolizerTypes: [ Dragon ]
    groups:
    - id: Medicine
    - id: Poison
  - type: Butcherable
    spawned:
    - id: MaterialBananium1
      amount: 2
    - id: WeaponBehonkerLaser
      amount: 1
  - type: MeleeWeapon
    soundHit:
      path: /Audio/Weapons/Xeno/alien_claw_flesh3.ogg
    damage:
      types:
        Piercing: 10
        Slash: 10
  - type: Anomaly
    pulseSound:
      collection: BananiumHorn
      params:
        volume: 5
  - type: Input
    context: "human"
  - type: Bloodstream
    bloodMaxVolume: 300
    bloodReagent: Laughter

- type: entity
  name: behonker
  parent: BaseMobBehonker
  id: MobBehonkerElectrical
  suffix: "Pyro"
  components:
  - type: PyroclasticAnomaly
  - type: TempAffectingAnomaly
    tempChangePerSecond: 25
    hotspotExposeTemperature: 1000
  - type: GasProducerAnomaly
    releasedGas: 3
    releaseOnMaxSeverity: true
    spawnRadius: 0

- type: entity
  name: behonker
  parent: BaseMobBehonker
  id: MobBehonkerPyro
  suffix: "Electrical"
  components:
  - type: ElectricityAnomaly
  - type: Electrified

- type: entity
  name: behonker
  parent: BaseMobBehonker
  id: MobBehonkerGrav
  suffix: "Grav"
  components:
  - type: GravityAnomaly

- type: entity
  name: behonker
  parent: BaseMobBehonker
  id: MobBehonkerIce
  suffix: "Ice"
  components:
  - type: Anomaly
  - type: ExplosionAnomaly
    supercriticalExplosion: Cryo
    explosionTotalIntensity: 1000
    explosionDropoff: 1
    explosionMaxTileIntensity: 10
  - type: ProjectileAnomaly
    projectilePrototype: ProjectileIcicle
  - type: TempAffectingAnomaly
    tempChangePerSecond: -25
    hotspotExposeTemperature: -1000
  - type: GasProducerAnomaly
    releasedGas: 8 # Frezon. Please replace if there is a better way to specify this
    releaseOnMaxSeverity: true
    spawnRadius: 0
